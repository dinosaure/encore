<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Syntax (encore.Encore.Syntax)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0-334-ga942491"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../../index.html">encore</a> &#x00BB; <a href="../index.html">Encore</a> &#x00BB; Syntax</nav><header><h1>Module <code>Encore.Syntax</code></h1></header><div class="content"><div><div class="spec value" id="val-fail" class="anchored"><a href="#val-fail" class="anchor"></a><code><span class="keyword">val</span> fail : string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div><p><code>fail msg</code> creates a combinator that will always fail with the message <code>msg</code>.</p></div></div><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Bij/index.html#type-t">Bij.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-product" class="anchored"><a href="#val-product" class="anchor"></a><code><span class="keyword">val</span> product : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="../index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-commit" class="anchored"><a href="#val-commit" class="anchor"></a><code><span class="keyword">val</span> commit : <span>unit <a href="../index.html#type-t">t</a></span></code></div><div><p><code>commit</code> prevents backtracking beyong the current position of the input, allowing the manager of the input buffer to reuse the preceding bytes for other purposes when the combinator is used as a parser.</p><p>As a serializer, <code>commit</code> forces to flush the internal buffer to the manager of the output buffer (if the current state is not into an alteration - see <a href="index.html#val-choice"><code>choice</code></a>).</p></div></div><div class="spec value" id="val-fix" class="anchored"><a href="#val-fix" class="anchor"></a><code><span class="keyword">val</span> fix : <span>(<span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-pure" class="anchored"><a href="#val-pure" class="anchor"></a><code><span class="keyword">val</span> pure : <span>compare:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-peek" class="anchored"><a href="#val-peek" class="anchor"></a><code><span class="keyword">val</span> peek : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Either/index.html#type-t">Either.t</a></span> <a href="../index.html#type-t">t</a></span></code></div><div><p><code>peek p q</code> accepts/computes <code>p</code> and returns it. Otherwise, it accepts/computes <code>q</code> and returns it. It does not advance the input as a parser or produce something into the output as a <i>serializer</i>.</p></div></div><div class="spec value" id="val-const" class="anchored"><a href="#val-const" class="anchor"></a><code><span class="keyword">val</span> const : string <span>&#45;&gt;</span> <span>string <a href="../index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-any" class="anchored"><a href="#val-any" class="anchor"></a><code><span class="keyword">val</span> any : <span>char <a href="../index.html#type-t">t</a></span></code></div><div><p><code>any</code> accepts/produces any character. As a parser, it returns it. As a serializer, it writes it.</p></div></div><div class="spec value" id="val-nil" class="anchored"><a href="#val-nil" class="anchor"></a><code><span class="keyword">val</span> nil : <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-rep1" class="anchored"><a href="#val-rep1" class="anchor"></a><code><span class="keyword">val</span> rep1 : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div><p><code>rep1 t</code> runs <code>t</code> <i>one</i> or more times and accepts/produces a list of results from the runs of <code>t</code>.</p></div></div><div><div class="spec value" id="val-rep0" class="anchored"><a href="#val-rep0" class="anchor"></a><code><span class="keyword">val</span> rep0 : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div><p><code>rep0 t</code> runs <code>t</code> <i>zero</i> of more times and accepts/produces a list of results from the runs of <code>t</code>.</p></div></div><div class="spec value" id="val-sep_by0" class="anchored"><a href="#val-sep_by0" class="anchor"></a><code><span class="keyword">val</span> sep_by0 : <span>sep:<span>unit <a href="../index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-sep_by1" class="anchored"><a href="#val-sep_by1" class="anchor"></a><code><span class="keyword">val</span> sep_by1 : <span>sep:<span>unit <a href="../index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-while0" class="anchored"><a href="#val-while0" class="anchor"></a><code><span class="keyword">val</span> while0 : <span>(char <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span>string <a href="../index.html#type-t">t</a></span></code></div><div><p><code>while0 p</code> accepts/produces a <code>string</code> which respects the predicate <code>p</code>. For example, this description:</p><pre>NUMBER = *DIGIT</pre><p>can be translated to:</p><pre><code>let number = while0 is_digit </code></pre></div></div><div><div class="spec value" id="val-while1" class="anchored"><a href="#val-while1" class="anchor"></a><code><span class="keyword">val</span> while1 : <span>(char <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span>string <a href="../index.html#type-t">t</a></span></code></div><div><p><code>while1 p</code> accepts/produces a <code>string</code> which respects the predicate <code>p</code>. The <code>string</code> must be not empty. This description:</p><pre>NUMBER = 1*DIGIT</pre><p>can be translated to:</p><pre><code>let number = while1 is_digit </code></pre></div></div><div><div class="spec value" id="val-fixed" class="anchored"><a href="#val-fixed" class="anchor"></a><code><span class="keyword">val</span> fixed : int <span>&#45;&gt;</span> <span>string <a href="../index.html#type-t">t</a></span></code></div><div><p><code>fixed n</code> accepts/produces any <code>string</code> with <code>n</code> bytes.</p></div></div><div class="spec value" id="val-choice" class="anchored"><a href="#val-choice" class="anchor"></a><code><span class="keyword">val</span> choice : <span><span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-sequence" class="anchored"><a href="#val-sequence" class="anchor"></a><code><span class="keyword">val</span> sequence : <span><span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-count" class="anchored"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : int <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-option" class="anchored"><a href="#val-option" class="anchor"></a><code><span class="keyword">val</span> option : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> option</span> <a href="../index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-lower" class="anchored"><a href="#val-lower" class="anchor"></a><code><span class="keyword">val</span> lower : <span>char <a href="../index.html#type-t">t</a></span></code></div><div><p><code>lower</code> accepts/produces any US-ASCII lowercase letter <code>'a'</code> .. <code>'z'</code>, that is a byte in the range [<code>0x61</code>;<code>0x7A</code>].</p></div></div><div><div class="spec value" id="val-upper" class="anchored"><a href="#val-upper" class="anchor"></a><code><span class="keyword">val</span> upper : <span>char <a href="../index.html#type-t">t</a></span></code></div><div><p><code>upper</code> accepts/produces any US-ASCII uppercase letter <code>'A'</code> .. <code>'Z'</code>, that is a byte in the range [<code>0x41</code>;<code>0x5A</code>].</p></div></div><div><div class="spec value" id="val-alpha" class="anchored"><a href="#val-alpha" class="anchor"></a><code><span class="keyword">val</span> alpha : <span>char <a href="../index.html#type-t">t</a></span></code></div><div><p><code>alpha</code> is <code>lower &lt;|&gt; upper</code>.</p></div></div><div><div class="spec value" id="val-digit" class="anchored"><a href="#val-digit" class="anchor"></a><code><span class="keyword">val</span> digit : <span>char <a href="../index.html#type-t">t</a></span></code></div><div><p><code>digit</code> accepts/produces any US-ASCII digit <code>'0'</code> .. <code>'9'</code>, that is a byte in the range [<code>0x30</code>;<code>0x39</code>].</p></div></div><div class="spec value" id="val-(&lt;$&gt;)" class="anchored"><a href="#val-(&lt;$&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;$&gt;) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Bij/index.html#type-t">Bij.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-(&lt;|&gt;)" class="anchored"><a href="#val-(&lt;|&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;|&gt;) : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span class="keyword">val</span> (*&gt;) : <span>unit <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span class="keyword">val</span> (&lt;*) : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>unit <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></code></div><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;*&gt;) : <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="../index.html#type-t">t</a></span></code></div></div></body></html>